---
sidebar: sidebar 
permalink: backup/anf-cba-cloud-backup-for-applications-for-sap-hana-on-anf.html 
keywords: sap hana releases, configurations, operations 
summary: SAP HANA檔案型備份可用於資料庫區塊完整性檢查、也可隨需執行或排程備份作業。原則導向的保留管理是在檔案系統層級和HANA備份目錄中執行。 
---
= 適用於SAP HANA的雲端備份
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../media/


link:anf-cba-cloud-backup-for-applications-architecture.html["先前版本：適用於應用程式的雲端備份架構。"]



== 解決方案總覽

Cloud Backup for Application支援下列元件的Snapshot型備份作業：

. * SAP HANA system*資料磁碟區。
. * SAP HANA資料庫的非資料磁碟區*。例如、 `/hana/shared` Volume和（或）SAP應用程式伺服器資料。
. *不屬於特定HANA系統的全域非資料磁碟區*。例如、SAP傳輸目錄 `/usr/sap/trans`。


這些元件的備份作業包括：

* 排程或隨需備份
* 選用的指令碼前與後置處理
* 原則導向的保留管理
+
** 適用於ANf-Volume層級的Snapshot
** SAP HANA備份目錄（適用於HANA資料Volume備份）




SAP HANA檔案型備份可用於資料庫區塊完整性檢查、也可隨需執行或排程備份作業。原則導向的保留管理是在檔案系統層級和HANA備份目錄中執行。

HANA資料庫記錄備份的保留管理是根據HANA資料庫資料備份（Snapshot或檔案型）的定義保留來執行。

CBA支援所有Snapshot型備份的還原作業。檔案型備份只能使用原生HANA工具還原。

image:anf-cba-image6.png["此映像描述HANA系統多租戶資料庫容器和全域非資料磁碟區的備份與還原。"]



== 解決方案營運

Snapshot資料備份是透過Cloud Backup for Applications執行、方法是觸發SAP HANA資料庫備份儲存點、以便在儲存層上建立的Snapshot複本、以SAP HANA資料庫的一致映像為基礎。請參閱 https://help.sap.com/docs/SAP_HANA_PLATFORM/6b94445c94ae495c83a19646e7c3fd56/b41a2823576f4726be649bc98e61d62c.html?q=sap%20hana%20snapshot%20backup["SAP系統管理指南"^] 以取得更多資訊。

為了完整備份所有SAP HANA相關資源、Cloud Backup for Applications也可讓您使用儲存型Snapshot複本來備份所有非資料磁碟區。您可以從資料庫資料備份獨立排程非資料磁碟區、以啟用個別的保留與保護原則。

SAP建議結合儲存型Snapshot備份與每週檔案型備份、以執行區塊完整性檢查。您可以從CBA內部執行區塊完整性檢查。區塊完整性檢查（檔案型）備份也可用於將備份卸載到第二個儲存位置。

Cloud Backup for Applications會根據您可設定的保留原則、管理資料備份、記錄備份及SAP HANA備份目錄的管理作業。

下圖摘要說明備份解決方案。

image:anf-cba-image7.png["本圖摘要說明備份解決方案。"]

執行非資料磁碟區的儲存型Snapshot備份時、Cloud Backup for Applications會執行下列工作：

. 建立非資料磁碟區的儲存Snapshot複本。
. 根據定義的保留原則刪除儲存Snapshot複本。


執行SAP HANA資料庫的儲存型Snapshot備份時、Cloud Backup for Applications會執行下列工作：

. 建立SAP HANA備份儲存點、在持續層上建立一致的映像。
. 建立資料磁碟區的儲存Snapshot複本。
. 在SAP HANA備份目錄中登錄儲存Snapshot備份。
. 發佈SAP HANA備份儲存點。
. 根據定義的保留原則刪除儲存Snapshot複本。
. 根據定義的保留原則刪除SAP HANA備份目錄項目。
. 每當手動刪除資料備份或根據保留原則刪除資料備份時、Cloud Backup for Applications會刪除所有早於最舊資料備份的記錄備份。記錄備份會在檔案系統和SAP HANA備份目錄中刪除。




== 支援的SAP HANA版本與組態

Cloud Backup for Applications可透過下列組態選項、以單一或多個租戶支援HANA MDC系統：

* SAP HANA 2.0 SPS4及更新版本
* SAP HANA單一主機系統
* 如一節所述、SAP HANA多主機系統 link:anf-cba-backup-operations-with-hana-system-replication.html#backup-operations-with-hana-multiple-host-systems["「使用HANA多主機系統進行備份作業」"]
* SAP HANA系統設定HANA系統複寫（HSR）、如一節所述 link:anf-cba-backup-operations-with-hana-system-replication.html["「採用HANA系統複寫的備份作業」"]


link:anf-cba-cloud-backup-for-applications-concepts-and-best-practices.html["下一步：雲端備份應用程式概念和最佳實務做法。"]
